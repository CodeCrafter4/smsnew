<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Fee Receipt</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="/css/common.css" />
    <style>
      body {
        background: #f8f9fa;
        padding: 20px;
      }
      .receipt {
        max-width: 800px;
        margin: 20px auto;
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        position: relative;
        overflow: hidden;
      }
      .watermark {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(-45deg);
        font-size: 100px;
        color: rgba(0, 0, 0, 0.05);
        white-space: nowrap;
        pointer-events: none;
      }
      .header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #dee2e6;
      }
      .school-name {
        font-size: 24px;
        font-weight: bold;
        color: #1a237e;
      }
      .info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 30px;
      }
      .info-item {
        margin-bottom: 15px;
      }
      .label {
        font-weight: bold;
        color: #666;
      }
      .amount-section {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }
      .footer {
        margin-top: 50px;
        text-align: right;
      }
      .print-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
      }
      @media print {
        body {
          background: white;
          padding: 0;
        }
        .receipt {
          box-shadow: none;
          margin: 0;
          padding: 20px;
        }
        .print-btn {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="receipt">
      <div class="watermark">{{receipt.fees_status}}</div>

      <div class="header">
        <div class="school-name">SMS <span class="text-muted">student management</span></div>
        <div>Fee Receipt</div>
        <div>Receipt No: {{receipt.receiptNo}}</div>
        <div>Date: {{receipt.currentDate}}</div>
      </div>

      <div class="info-grid">
        <div class="info-item">
          <div class="label">Student Name</div>
          <div>{{receipt.name}}</div>
        </div>
        <div class="info-item">
          <div class="label">Roll Number</div>
          <div>{{receipt.roll_number}}</div>
        </div>
        <div class="info-item">
          <div class="label">Class</div>
          <div>{{receipt.class}}</div>
        </div>
        <div class="info-item">
          <div class="label">Payment Date</div>
          <div>{{formatDateTime receipt.last_payment_date}}</div>
        </div>
      </div>

      <div class="amount-section">
        <div class="info-item">
          <div class="label">Total Fee Amount</div>
          <div>ET {{receipt.fee_amount}}</div>
        </div>
        <div class="info-item">
          <div class="label">Last Payment</div>
          <div>ET {{receipt.last_payment_amount}}</div>
        </div>
        <div class="info-item">
          <div class="label">Total Paid Amount</div>
          <div>ET {{receipt.paid_amount}}</div>
        </div>
        <div class="info-item">
          <div class="label">Balance</div>
          <div>ET {{receipt.balance}}</div>
        </div>
        <div class="info-item">
          <div class="label">Payment Status</div>
          <div>{{receipt.fees_status}}</div>
        </div>
      </div>

      <div class="footer mr-2">
        <div>Authorized Signature</div>
        <div>______ùìÇùëúùíΩùí∂ùìÇùìÇùëíùíπ__</div>
      </div>
    </div>

    <button onclick="window.print()" class="btn btn-primary print-btn">
      <i class="bi bi-printer"></i> Print Receipt
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
